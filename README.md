# 🎨 CoinMint 可视化编辑器

一个真正能保存修改的全局可视化网站编辑器，让你直接在网站上编辑文字内容并永久保存到文件。

## ✨ 功能特点

### 🎯 **真正的可视化编辑**
- ✅ 直接在网站上编辑文字，无需跳转
- ✅ 实时预览修改效果
- ✅ 智能识别所有可编辑文本元素
- ✅ 可视化编辑提示和反馈

### 💾 **真实文件保存**
- ✅ 修改直接保存到HTML文件
- ✅ 支持批量保存多处修改
- ✅ 自动备份原始文件
- ✅ 完整的备份管理系统

### 🔒 **安全可靠**
- ✅ 每次保存前自动创建备份
- ✅ 支持一键恢复任意历史版本
- ✅ 本地文件系统，数据完全可控
- ✅ 修改记录和日志追踪

## 🚀 快速开始

### 1. **环境要求**
- Node.js (建议 v16 或更高版本)
- 现代浏览器 (Chrome, Firefox, Safari, Edge)

### 2. **一键启动**
```bash
# Windows用户
双击 start.bat

# 或者手动启动
npm install
npm start
```

### 3. **开始编辑**
1. 打开浏览器访问: `http://localhost:3001/index.html`
2. 点击右下角的 "🎨 编辑网站" 按钮
3. 点击 "开始编辑" 激活编辑模式
4. 直接点击网站上的文字进行修改
5. 点击 "💾 保存修改" 永久保存到文件

## 📖 详细使用说明

### 🎨 **编辑模式**

#### 激活编辑器
- 点击网站右下角的 "🎨 编辑网站" 按钮
- 编辑器控制面板会出现在右上角

#### 开始编辑
- 点击 "开始编辑" 按钮
- 所有可编辑文字会显示蓝色虚线框
- 鼠标悬停时显示绿色高亮和"点击编辑"提示

#### 编辑文字
- 直接点击任何文字开始编辑
- 正在编辑的文字显示橙色高亮
- 按 `Enter` 键保存修改
- 按 `Esc` 键取消修改
- 修改后的文字显示绿色边框

### 💾 **保存功能**

#### 保存修改
- 点击 "💾 保存修改" 按钮
- 系统会自动创建备份文件
- 所有修改会应用到原始HTML文件
- 保存成功后可选择刷新页面查看效果

#### 重置修改
- 点击 "🔄 重置" 按钮
- 撤销所有未保存的修改
- 恢复到最后保存的状态

### 📂 **备份管理**

#### 查看备份
- 点击 "📂 备份" 按钮
- 查看所有历史备份文件
- 显示创建时间和文件大小

#### 恢复备份
- 在备份列表中点击 "恢复" 按钮
- 确认后会恢复到选择的历史版本
- 当前文件会自动备份

## 🛠️ 技术架构

### 前端
- 原生JavaScript，无框架依赖
- 智能DOM元素识别和编辑
- 实时可视化反馈系统
- 响应式编辑器界面

### 后端
- Node.js + Express
- RESTful API设计
- 文件系统操作
- 自动备份机制

### API接口
```
GET  /api/health              - 健康检查
GET  /api/file/:filename      - 获取文件内容
POST /api/apply-changes/:filename - 应用文本修改
GET  /api/backups             - 获取备份列表
POST /api/restore/:backup     - 恢复备份
```

## 📁 文件结构

```
coinmint-siteee/
├── index.html              # 主网站文件
├── visual-editor.js        # 前端编辑器
├── server.js              # 后端服务器
├── package.json           # 项目配置
├── start.bat             # Windows启动脚本
├── backups/              # 备份文件夹
└── README.md             # 说明文档
```

## 🔧 配置选项

### 服务器配置
- 端口: 3001 (可在 server.js 中修改)
- 备份目录: ./backups/
- 支持的文件类型: HTML

### 编辑器配置
- 可编辑元素: h1-h6, p, span, a, li, div 等
- 自动保存: 支持
- 备份策略: 每次保存前自动备份

## ⚠️ 注意事项

1. **备份重要性**: 虽然系统会自动备份，但建议定期手动备份重要文件
2. **浏览器兼容**: 建议使用现代浏览器以获得最佳体验
3. **文件权限**: 确保Node.js进程有读写文件的权限
4. **端口占用**: 如果3001端口被占用，请修改server.js中的PORT配置

## 🆘 常见问题

### Q: 点击保存后提示"无法连接到后端服务器"
A: 请确保后端服务器正在运行，使用 `npm start` 或双击 `start.bat` 启动

### Q: 修改保存后页面没有变化
A: 保存成功后建议刷新页面查看最新效果

### Q: 找不到可编辑元素
A: 系统会自动识别文本元素，如果某些元素无法编辑，可能是因为包含复杂的子元素

### Q: 备份文件在哪里
A: 备份文件保存在 `backups/` 文件夹中，文件名包含时间戳

## 📞 技术支持

如果遇到问题或需要帮助，请检查：
1. Node.js是否正确安装
2. 依赖包是否安装完成 (`npm install`)
3. 后端服务器是否正在运行
4. 浏览器控制台是否有错误信息

---

🎉 **享受可视化编辑的乐趣！**
